#SQL注入
01. 参考文章地址：https://blog.csdn.net/qq_39611230/article/details/104330094?utm_medium=distribute.pc_relevant.none-task-blog-title-4&spm=1001.2101.3001.4242

##环境搭建
01. 测试源码地址：https://github.com/Rinkish/Sqli_Edited_Version 本项目是对于SQLi-LABS的改进项目Sqli_Edited_Version
02. phpstudy下载：配置测试程序启动的环境（MySQL+Apache+PHP环境）
03. 测试项目部署与启动：将Sqli_Edited_Version解压在phpstudy安装目录下的www文件夹
04. 测试访问：浏览器输入localhost/文件夹名，成功，则项目部署成功
05. 连接数据库：打开sqli-labs文件夹中的\sql-connections文件夹下的db-creds.inc文件,并将其中的用户名密码改为数据库的用户名密码(数据库默认用户名与密码都为root)
06. 创建数据库表：点击sqli-labs中的Setup/reset Database for labs，数据库出现相应的表，则部署成功
07. 环境测试：在sqli-labs的less-1中我们可以测试一下部署是否成功,在Less-1后跟随id=1的参数成功返回,代表环境以及可以使用


##SQL手动注入

###SQL注入原理

####SQL注入就是指web应用程序对用户输入数据的合法性没有判断,前端传入后端的参数是攻击者可控的,并且参数代入数据库查询,攻击者可以通过构造不同的SQL语句来实现对数据库任意操作,这种做法会带来一下危害
01. 数据库敏感信息泄露
02. 数据被窜改,导致页面显示异常
03. 数据库被恶意操作
04. 服务器被远程控制

####QL注入漏洞的产生需要满足两个条件
01. 参数用户可控
02. 参数带入数据库查询,传入的参数拼接到SQL语句,并且带入数据库查询

###SQL注入分类
####根据注入位置数据类型可将SQL注入分为两类:数字型和字符串型
01. 字符串注入
02. 数字注入
####根据返回结果可以分为
01. 显错注入(error-based)
02. 盲注(boolean/time-based blind)

###寻找注点
01. 首先我们进入sqli-labs第一页的less1,发现提示Please input the ID as parameter with numeric value
02. 根据提示,我们输入一个参数?id=1跟在URL后
03. 此时网页中输入了一些从数据库中获取的信息,id=1现在有很大几率是跟数据库交互了,那么这就是一个注入点,接下来我们要尝试一些特殊的字符,让他能显示出我们想要的错误结果
04. 我们可以尝试id的值为一些特殊的符号(常用但不限于单引号'双引号"括号)反斜线/等)。我们尝试输入id=1'后发现了报错
05. 报错信息中最有用的就是: ''1''LIMIT 0,1' 这个错误的原因可以看出是因为我们输入的1',为什么我们输入了一个单引号'会使其报错,其实原因和简单,单双引号,各种括号,他们都是组队出现,而我们的输入导致SQL语句中多了一个单引号',使得其没有成对出现,导致错误。而这种错误真是我们需要利用的漏洞!!!
06. 通过可视化工具可以发现当前网页使用的数据库中的表名为uesrs(这个表名在真是情况下也是无法直接看到的,需要通过注入获取,这里用来展示注入原理,所以事先说明了表名)
07. 利用注释闭合，利用--+将后面的语句注释掉
08. 输入id=1'--+，成功查询

###字段数判断
01. order by判断字段数(order by用于给数据库排序)order by 可以按名称指定排序内容,同时也可以按顺序指定,比如我们想指定第二列排序就可以输入order by 2,如果指定列数不存在,则会报错,我们可以利用此方法来获取此表中包含几列
02. 尝试id=1' order by 1跟在URL后，成功
03. 尝试id=1' order by 2跟在URL后，成功
04. 尝试id=1' order by 3跟在URL后，成功
05. 尝试id=1' order by 4跟在URL后，失败
06. 结论：users这个表中拥有3个字段。
